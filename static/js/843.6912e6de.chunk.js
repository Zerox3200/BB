"use strict";(self.webpackChunkbakistan=self.webpackChunkbakistan||[]).push([[843],{843:(e,a,i)=>{i.r(a),i.d(a,{default:()=>h});var t=i(7154),s=i(5043),n=i(9047),p=i(3892),l=i(7196),c=i(899),o=i(2880),d=i(610),r=i(8292),m=i(579);function h(){const[e,a]=(0,s.useState)([]),[i,h]=(0,s.useState)(!1),[u,g]=(0,s.useState)(!1),[j,x]=(0,s.useState)(!1),[y,v]=(0,s.useState)(!1),[b,f]=(0,s.useState)(!1),[N,S]=(0,s.useState)(""),A=()=>{v(!1),x(!1),f(!1)},k=e=>{const a=Array.from(e.target.files).filter((e=>e.type.startsWith("image")));w.setFieldValue("appslider",a)},F=e=>{const a=e.target.files[0];w.setFieldValue("appcover",a)},C=e=>{const a=e.target.files[0];w.setFieldValue("appicon",a)},I=c.Ik({appicon:c.gl().test("File_Type","Invalid!!",(e=>!e||["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>!e||e.size<=204800)),appcover:c.gl().test("File_Type","Invalid!!",(e=>!e||["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>!e||e.size<=204800)),appslider:c.YO().of(c.gl().test("File_Type","Invalid!!",(e=>!e||["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>!e||e.size<=204800)))});let w=(0,p.Wx)({initialValues:{},onSubmit:async e=>{let a=localStorage.getItem("token");const i=new FormData;e.appcover&&(i.append("appcover",e.appcover),await t.A.patch("".concat(r.D,"/app/UpdateImageappcover/").concat(e.id),i,{headers:{"Content-Type":"multipart/form-data",token:a}}),A(),g(!0)),e.appslider&&e.appslider.length>0&&(e.appslider.forEach((e=>{i.append("appslider",e)})),await t.A.patch("".concat(r.D,"/app/UpdateImageappslider/").concat(e.id),i,{headers:{"Content-Type":"multipart/form-data",token:a}}),A(),g(!0)),e.appicon&&(i.append("appicon",e.appicon),await t.A.patch("".concat(r.D,"/app/UpdateImageappicon/").concat(e.id),i,{headers:{"Content-Type":"multipart/form-data",token:a}}).then((e=>{})),A(),g(!0))},validationSchema:I});return(0,s.useEffect)((()=>{!async function(){h(!0);const{data:e}=await t.A.get("".concat(r.D,"/app/GetAllApps"));a(e.result),h(!1)}(),g(!1)}),[u]),(0,m.jsx)(m.Fragment,{children:i?(0,m.jsx)(n.A,{}):0===(null==e?void 0:e.length)?(0,m.jsx)(d.A,{}):(0,m.jsx)("div",{className:"admin-apps",children:e.map((e=>(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("div",{className:"row app",children:[(0,m.jsx)("div",{className:"appicon col-md-4 col-sm-12",children:(0,m.jsx)("img",{src:"".concat(r.D,"/").concat(e.appicon),alt:""})}),(0,m.jsx)("div",{className:"app-name col-md-4 col-sm-12",children:(0,m.jsx)("h1",{className:"font-color",children:e.name[0].value})}),(0,m.jsxs)("div",{className:"row actions justify-content-between",children:[(0,m.jsx)("span",{className:"col-md-3 col-sm-12 text-light align-items-center",onClick:()=>{S(e._id),v(!0)},children:(0,m.jsx)("h6",{children:"Update App cover"})}),(0,m.jsx)("span",{className:"col-md-3 col-sm-12 text-light align-items-center ",onClick:()=>{S(e._id),x(!0)},children:(0,m.jsx)("h6",{children:"Update App icon"})}),(0,m.jsx)("span",{className:"col-md-3 col-sm-12 text-light align-items-center",onClick:()=>{S(e._id),f(!0)},children:(0,m.jsx)("h6",{children:"Update slider images"})})]}),y?(0,m.jsx)(o.P.div,{className:"popupUpdateImage",nitial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:(0,m.jsxs)(o.P.div,{className:"form",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring"},children:[(0,m.jsx)("div",{onClick:A,className:"close",children:(0,m.jsx)(l.qFd,{})}),(0,m.jsxs)("form",{onSubmit:w.handleSubmit,children:[(0,m.jsx)("label",{htmlFor:"appcover",children:"Upload New App Cover"}),(0,m.jsx)("input",{type:"file",className:"form-control",name:"appcover",id:"appcover",onChange:F}),(0,m.jsx)("input",{type:"hidden",name:"Appid",value:w.values.id=N,id:"Appid"}),(0,m.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]})]})}):j?(0,m.jsx)(o.P.div,{className:"popupUpdateImage",nitial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:(0,m.jsxs)(o.P.div,{className:"form",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring"},children:[(0,m.jsx)("div",{onClick:A,className:"close",children:(0,m.jsx)(l.qFd,{})}),(0,m.jsxs)("form",{onSubmit:w.handleSubmit,children:[(0,m.jsx)("label",{htmlFor:"appicon",children:"Upload New App Icon"}),(0,m.jsx)("input",{type:"file",className:"form-control",id:"appicon",name:"appicon",onChange:C}),(0,m.jsx)("input",{type:"hidden",name:"Appid",value:w.values.id=N,id:"Appid"}),(0,m.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]})]})}):b?(0,m.jsx)(o.P.div,{className:"popupUpdateImage",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:(0,m.jsxs)(o.P.div,{className:"form",nitial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:[(0,m.jsx)("div",{onClick:A,className:"close",children:(0,m.jsx)(l.qFd,{})}),(0,m.jsxs)("form",{onSubmit:w.handleSubmit,children:[(0,m.jsx)("label",{htmlFor:"appslider",children:"Upload New slider images"}),(0,m.jsx)("input",{type:"file",multiple:!0,className:"form-control",id:"appslider",name:"appslider",onChange:k}),(0,m.jsx)("input",{type:"hidden",name:"Appid",value:w.values.id=N,id:"Appid"}),(0,m.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]})]})}):""]})},e._id)))})})}},610:(e,a,i)=>{i.d(a,{A:()=>n});i(5043);var t=i(748),s=i(579);function n(){return(0,s.jsxs)("div",{className:"Empty",children:[(0,s.jsx)("img",{src:t,alt:"...",loading:"lazy"}),(0,s.jsx)("h1",{className:"h4 font-color",children:"Empty Data!!"})]})}},748:(e,a,i)=>{e.exports=i.p+"static/media/4351528-removebg-preview.b4bbe969e78119f17570.png"}}]);
//# sourceMappingURL=843.6912e6de.chunk.js.map