"use strict";(self.webpackChunkbakistan=self.webpackChunkbakistan||[]).push([[965],{8965:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var s=t(3892),l=t(5043),n=t(899),c=t(7154),r=t(3768),o=t(6338),m=t(8292),i=t(579);function d(){const[e,a]=(0,l.useState)(!1),[t,d]=(0,l.useState)(null),u=n.Ik({name:n.Yj().required("Category name is required"),catIcon:n.gl().test("File_Type","Category image should be svg only!!",(e=>e&&["image/svg+xml"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>e&&e.size<=204800)).required("Category Image ")}),h=(0,s.Wx)({initialValues:{name:"",catIcon:""},validationSchema:u,onSubmit:async e=>{a(!0);const t=new FormData;t.append("name",e.name),t.append("catIcon",e.catIcon),await c.A.post("".concat(m.D,"/Categories/CreateCat"),t,{headers:{token:localStorage.getItem("token")}}).then((e=>{e.data.success?(d(null),a(!1),(0,r.Ay)((0,i.jsx)(o.A,{Message:"Category Added Successfully"}))):e.data.success||(d(e.data.Message),a(!1))})).catch((e=>{a(!1),d(e.message)}))}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("form",{className:"CatForm",onSubmit:h.handleSubmit,children:[(0,i.jsx)("h1",{className:"h5 form-label mt-4 font-color",children:"Add Categoty"}),null===t?null:(0,i.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:t}),(0,i.jsxs)("div",{className:"Add_Cat d-flex flex-column",children:[(0,i.jsx)("label",{htmlFor:"CatName",className:"form-label mt-3 font-color",children:"Category Name"}),(0,i.jsx)("input",{type:"text",name:"name",className:"form-control",id:"CatName",onChange:h.handleChange,onBlur:h.handleBlur}),h.errors.name&&h.touched.name?(0,i.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:h.errors.name}):null]}),(0,i.jsxs)("div",{className:"Add_Cat_Image d-flex flex-column",children:[(0,i.jsx)("label",{htmlFor:"CatImage",className:"form-label mt-3 font-color",children:"Category Name"}),(0,i.jsx)("input",{type:"file",name:"catIcon",className:"form-control",id:"CatImage",onChange:e=>{const a=e.target.files[0];h.setFieldValue("catIcon",a)}}),h.errors.catIcon&&h.touched.catIcon?(0,i.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:h.errors.catIcon}):null]}),e?(0,i.jsx)("button",{type:"button",className:"btn bg-main text-light mt-3",children:(0,i.jsx)("i",{className:"fas fa-spinner fa-spin "})}):(0,i.jsx)("button",{className:"btn bg-main text-light mt-3",children:"Add Category"})]})})}},6338:(e,a,t)=>{t.d(a,{A:()=>l});t(5043);var s=t(579);function l(e){let{Message:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("article",{className:"d-flex justify-content-center column-gap-4",children:(0,s.jsx)("h1",{className:"m-0",children:a})})})}}}]);
//# sourceMappingURL=965.5c7482ec.chunk.js.map