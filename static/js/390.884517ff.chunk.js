"use strict";(self.webpackChunkbakistan=self.webpackChunkbakistan||[]).push([[390],{7390:(e,a,l)=>{l.r(a),l.d(a,{default:()=>m});var p=l(5043),r=l(3892),n=l(7154),s=l(899),i=l(9793),t=l(2907),d=l(3768),c=l(6338),o=l(579);function m(){var e,a,l,m,u,h;const[g,x]=(0,p.useState)(!1),j=s.Ik({name:s.Yj().required("Name is required"),appcat:s.Yj(),description:s.Yj().min(20,"Minimum Length is 20").required("Description is require"),applink:s.Yj().matches(/(?:https?|ftp):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?/,"Please Add Link").required("Link is required"),size:s.Yj().required("App Size is required"),news:s.YO().min(1,"You should atleast add one new").required("News is required"),appicon:s.gl().test("File_Type","Invalid!!",(e=>e&&["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>e&&e.size<=204800)),appcover:s.gl().test("File_Type","Invalid!!",(e=>e&&["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>e&&e.size<=204800)),appslider:s.YO().required("App Slider is required").of(s.gl().test("File_Type","Invalid!!",(e=>e&&["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB \n",(e=>e&&e.size<=204800))),applanguage:s.Yj().required("App Language is required"),appversion:s.Yj().required("App Version is required"),apprequired:s.Yj().required("App Required is required"),appUbdateDate:s.Yj().required("App Update Date is required"),appReleaseDate:s.Yj().required("App Release is required"),appArchitecture:s.Yj().required("App Architecture is required"),appPackageName:s.Yj().required("App Package Name is required"),paid:s.zM()}),f=(0,r.Wx)({initialValues:{name:"",appcat:"",description:"",applink:"",size:"",news:[],appicon:"",appcover:"",appslider:[],applanguage:"",appversion:"",apprequired:"",appUbdateDate:"",appReleaseDate:"",appArchitecture:"",appPackageName:"",paid:!1},onSubmit:async e=>{console.log(e.appcat),x(!0);const a=new FormData;a.append("name[0][language]","en"),a.append("name[0][value]",e.name),a.append("description[0][language]","en"),a.append("description[0][value]",e.description);for(let l=0;l<e.news.length;l++)a.append("news[en][".concat(l,"]"),e.news[l]);a.append("appinfo[applanguage]",e.applanguage),a.append("appinfo[appsize]",e.size),a.append("appinfo[appversion]",e.appversion),a.append("appinfo[apprequired]",e.apprequired),a.append("appinfo[appUbdateDate]",e.appUbdateDate),a.append("appinfo[appReleaseDate]",e.appReleaseDate),a.append("appinfo[appArchitecture]",e.appArchitecture),a.append("appinfo[appPackageName]",e.appPackageName),a.append("appcat[en]",e.appcat),a.append("applink",e.applink),a.append("size",e.size),a.append("paid",e.paid),e.appicon&&a.append("appicon",e.appicon),e.appcover&&a.append("appcover",e.appcover),e.appslider&&e.appslider.length>0&&e.appslider.forEach((e=>{a.append("appslider",e)})),await n.A.post("http://localhost:3000/app/uploadapp",a,{headers:{"Content-Type":"multipart/form-data",token:i.s.get("token")}}).then((()=>(0,d.Ay)((0,o.jsx)(c.A,{Message:"Upload Application Successfully"})))),x(!1)},validationSchema:j}),{data:b}=(0,t.useQuery)("Get Categories",(()=>n.A.get("http://localhost:3000/Categories/GetAllCats")),{cacheTime:3e6,onSettled:e=>{var a,l,p;f.setFieldValue("appcat",null===(a=e.data)||void 0===a||null===(l=a.result[0])||void 0===l||null===(p=l.name)||void 0===p?void 0:p.en)}});return(0,o.jsxs)("form",{className:"AddApp container mt-4 m-auto row justify-content-between",onSubmit:f.handleSubmit,children:[0===(null===b||void 0===b||null===(e=b.data)||void 0===e||null===(a=e.result)||void 0===a?void 0:a.length)?(0,o.jsx)("div",{className:"alert alert-danger",children:"You should add Category"}):null,(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{className:"form-label",htmlFor:"Appname",children:"App Name"}),(0,o.jsx)("input",{type:"text",placeholder:"App name",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"Appname",name:"name","aria-describedby":"emailHelp"}),f.errors.name&&f.touched.name&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.name})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppCat",children:"App Category"}),(0,o.jsx)("select",{className:"form-select mt-1",id:"AppCat","aria-label":"Default select example",name:"appcat",onChange:f.handleChange,onBlur:f.handleBlur,children:0===(null===b||void 0===b||null===(l=b.data)||void 0===l||null===(m=l.result)||void 0===m?void 0:m.length)?(0,o.jsx)("option",{children:"Not Found"}):null===b||void 0===b||null===(u=b.data)||void 0===u||null===(h=u.result)||void 0===h?void 0:h.map(((e,a)=>(0,o.jsx)("option",{defaultChecked:0===a,value:e.name.en,children:e.name.en},a)))})]}),(0,o.jsxs)("div",{className:"mb-3 Descs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppDesc",children:"App Description"}),(0,o.jsx)("textarea",{className:"form-control",placeholder:"Descirption",name:"description",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppDesc",rows:"10"}),f.errors.description&&f.touched.description&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.description})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppLink",children:"App Link"}),(0,o.jsx)("input",{type:"text",placeholder:"Store Link",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppLink",name:"applink","aria-describedby":"emailHelp"}),f.errors.applink&&f.touched.applink&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.applink})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppSize",children:"App Size"}),(0,o.jsx)("input",{type:"text",placeholder:"Size",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppSize",name:"size","aria-describedby":"emailHelp"}),f.errors.size&&f.touched.size&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.size})]}),(0,o.jsxs)("div",{className:"mb-3 Descs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"Appname",children:"App News"}),(0,o.jsx)("span",{id:"emailHelp",className:"form-text",children:"please add [-] before every new like this - new one , - new two , etc"}),(0,o.jsx)("textarea",{className:"form-control",placeholder:"News",onChange:e=>{const a=Array.from(e.target.value.split("-")).slice(1).map((e=>e.replace(/\n/,"")));f.setFieldValue("news",a)},onBlur:f.handleBlur,id:"AppNews",rows:"10",name:"news"}),f.errors.news&&f.touched.news&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.news})]}),(0,o.jsx)("h1",{className:"h3",children:"App Info"}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppLanguage",children:"App Language"}),(0,o.jsx)("input",{type:"text",placeholder:"Language",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppLanguage",name:"applanguage","aria-describedby":"emailHelp"}),f.errors.applanguage&&f.touched.applanguage&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.applanguage})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppVersion",children:"App Version"}),(0,o.jsx)("input",{type:"text",placeholder:"Version",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppVersion",name:"appversion","aria-describedby":"emailHelp"}),f.errors.appversion&&f.touched.appversion&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.appversion})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppRequired",children:"App Required"}),(0,o.jsx)("input",{type:"text",placeholder:"Required",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppRequired",name:"apprequired","aria-describedby":"emailHelp"}),f.errors.apprequired&&f.touched.apprequired&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.apprequired})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppUpdateDate",children:"App Update Date"}),(0,o.jsx)("input",{type:"date",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppUpdateDate",name:"appUbdateDate","aria-describedby":"emailHelp"}),f.errors.appUbdateDate&&f.touched.appUbdateDate&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.appUbdateDate})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppReleaseDate",children:"App Release Date"}),(0,o.jsx)("input",{type:"date",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppReleaseDate",name:"appReleaseDate","aria-describedby":"emailHelp"}),f.errors.appReleaseDate&&f.touched.appReleaseDate&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.appReleaseDate})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppArchitecture",children:"App Architecture"}),(0,o.jsx)("input",{type:"text",placeholder:"Architecture",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppArchitecture",name:"appArchitecture","aria-describedby":"emailHelp"}),f.errors.appArchitecture&&f.touched.appArchitecture&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.appArchitecture})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppPackageName",children:"App Package Name"}),(0,o.jsx)("input",{type:"text",placeholder:"Package Name",className:"form-control mt-1",onChange:f.handleChange,onBlur:f.handleBlur,id:"AppPackageName",name:"appPackageName","aria-describedby":"emailHelp"}),f.errors.appPackageName&&f.touched.appPackageName&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.appPackageName})]}),(0,o.jsx)("h1",{className:"h3",children:"App Images"}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppIcon",children:"App Icon"}),(0,o.jsx)("input",{type:"file",className:"form-control",id:"appicon",onChange:e=>{const a=e.target.files[0];f.setFieldValue("appicon",a)}}),f.errors.appicon&&f.touched.appicon&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.appicon})]}),(0,o.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppCover",children:"App Cover"}),(0,o.jsx)("input",{type:"file",className:"form-control",id:"AppCover",name:"appcover",onChange:e=>{const a=e.target.files[0];f.setFieldValue("appcover",a)}}),f.errors.appcover&&f.touched.appcover&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.appcover})]}),(0,o.jsxs)("div",{className:"mb-3 Descs d-flex flex-column",children:[(0,o.jsx)("label",{htmlFor:"AppSlider",children:"App Slider"}),(0,o.jsx)("input",{type:"file",className:"form-control",id:"AppSlider",name:"appslider",multiple:!0,onChange:e=>{const a=Array.from(e.target.files).filter((e=>e.type.startsWith("image")));f.setFieldValue("appslider",a)}}),f.errors.appslider&&f.touched.appslider&&(0,o.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:f.errors.appslider})]}),(0,o.jsxs)("div",{className:"mb-3 form-check",children:[(0,o.jsx)("input",{type:"checkbox",name:"paid",className:"form-check-input",id:"Free",checked:f.values.paid,onChange:f.handleChange,onBlur:f.handleBlur}),(0,o.jsx)("label",{className:"form-check-label",htmlFor:"Free",children:"This app is paid"})]}),g?(0,o.jsx)("button",{type:"button",className:"btn bg-main text-light mt-2",children:(0,o.jsx)("i",{className:"fas fa-spinner fa-spin "})}):(0,o.jsx)("button",{type:"submit",disabled:!(f.isValid&&f.dirty),className:"btn bg-main text-light mt-2",children:"Upload App"})]})}},6338:(e,a,l)=>{l.d(a,{A:()=>r});l(5043);var p=l(579);function r(e){let{Message:a}=e;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("article",{className:"d-flex justify-content-center column-gap-4",children:(0,p.jsx)("h1",{className:"m-0",children:a})})})}}}]);
//# sourceMappingURL=390.884517ff.chunk.js.map