"use strict";(self.webpackChunkbakistan=self.webpackChunkbakistan||[]).push([[715],{3715:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var t=s(5043),n=s(2880),l=s(7196),i=s(3892),r=s(899),o=s(7154),c=s(9793),d=s(8292),m=s(579);function u(e){let{HandleShow:a,ID:s,refetch:u}=e;const[p,h]=(0,t.useState)(!1),N=r.Ik({News:r.YO().min(1,"You should atleast add one new").required("News is required")}),w=(0,i.Wx)({initialValues:{News:""},validationSchema:N,onSubmit:async e=>{h(!0),console.log(e),await o.A.patch("".concat(d.D,"/app/Update/").concat(s),{key:"news",result:e.News},{headers:{token:c.s.get("token")}}).then((e=>{console.log(e),h(!1),u(),a()})).catch((e=>{console.log(e)}))}});return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(n.P.div,{className:"popupNews",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:(0,m.jsxs)(n.P.div,{className:"Newsform",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring"},children:[(0,m.jsx)("div",{className:"close align-self-end",children:(0,m.jsx)(l.qFd,{onClick:a})}),(0,m.jsxs)("form",{className:"mt-5",onSubmit:w.handleSubmit,children:[(0,m.jsx)("label",{htmlFor:"News",children:"News"}),(0,m.jsx)("p",{className:"alert alert-dark",children:"Please add [-] before every new"}),(0,m.jsx)("textarea",{type:"text",className:"form-control",id:"News",name:"News",rows:"10",onChange:e=>{const a=Array.from(e.target.value.split("-")).slice(1).map((e=>e.replace(/\n/,"")));w.setFieldValue("News",a)},onBlur:w.handleBlur}),w.errors.News&&w.touched.News?(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:w.errors.News}):null,p?(0,m.jsx)("button",{type:"button",className:"btn bg-main text-light mt-2",children:(0,m.jsx)("i",{className:"fas fa-spinner fa-spin "})}):(0,m.jsx)("button",{className:"btn mt-3",type:"submit",children:"Submit"})]})]})})})}}}]);
//# sourceMappingURL=715.00e0ee3e.chunk.js.map