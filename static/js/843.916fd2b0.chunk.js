"use strict";(self.webpackChunkbakistan=self.webpackChunkbakistan||[]).push([[843],{843:(e,a,i)=>{i.r(a),i.d(a,{default:()=>m});var t=i(7154),s=i(5043),l=i(9047),n=i(3892),p=i(7196),o=i(899),c=i(2880),d=i(610),r=i(579);function m(){const[e,a]=(0,s.useState)([]),[i,m]=(0,s.useState)(!1),[h,u]=(0,s.useState)(!1),[g,j]=(0,s.useState)(!1),[x,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),[f,N]=(0,s.useState)(""),S=()=>{v(!1),j(!1),b(!1)},A=e=>{const a=Array.from(e.target.files).filter((e=>e.type.startsWith("image")));I.setFieldValue("appslider",a),console.log(a)},k=e=>{const a=e.target.files[0];I.setFieldValue("appcover",a),console.log(e)},F=e=>{const a=e.target.files[0];I.setFieldValue("appicon",a),console.log(a)},C=o.Ik({appicon:o.gl().test("File_Type","Invalid!!",(e=>!e||["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>!e||e.size<=204800)),appcover:o.gl().test("File_Type","Invalid!!",(e=>!e||["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>!e||e.size<=204800)),appslider:o.YO().of(o.gl().test("File_Type","Invalid!!",(e=>!e||["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>!e||e.size<=204800)))});let I=(0,n.Wx)({initialValues:{},onSubmit:async e=>{let a=localStorage.getItem("token");const i=new FormData;e.appcover&&(i.append("appcover",e.appcover),await t.A.patch("http://localhost:3000/app/UpdateImageappcover/".concat(e.id),i,{headers:{"Content-Type":"multipart/form-data",token:a}}),S(),u(!0)),e.appslider&&e.appslider.length>0&&(e.appslider.forEach((e=>{i.append("appslider",e),console.log(e)})),await t.A.patch("http://localhost:3000/app/UpdateImageappslider/".concat(e.id),i,{headers:{"Content-Type":"multipart/form-data",token:a}}),S(),u(!0)),e.appicon&&(i.append("appicon",e.appicon),await t.A.patch("http://localhost:3000/app/UpdateImageappicon/".concat(e.id),i,{headers:{"Content-Type":"multipart/form-data",token:a}}).then((e=>{console.log(e)})),S(),u(!0))},validationSchema:C});return(0,s.useEffect)((()=>{!async function(){m(!0);const{data:e}=await t.A.get("http://localhost:3000/app/GetAllApps");a(e.result),m(!1)}(),u(!1)}),[h]),(0,r.jsx)(r.Fragment,{children:i?(0,r.jsx)(l.A,{}):0===(null===e||void 0===e?void 0:e.length)?(0,r.jsx)(d.A,{}):(0,r.jsx)("div",{className:"admin-apps",children:e.map((e=>(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row app",children:[(0,r.jsx)("div",{className:"appicon col-md-4 col-sm-12",children:(0,r.jsx)("img",{src:"http://localhost:3000/".concat(e.appicon),alt:""})}),(0,r.jsx)("div",{className:"app-name col-md-4 col-sm-12",children:(0,r.jsx)("h1",{className:"font-color",children:e.name[0].value})}),(0,r.jsxs)("div",{className:"row actions justify-content-between",children:[(0,r.jsx)("span",{className:"col-md-3 col-sm-12 text-light align-items-center",onClick:()=>{N(e._id),v(!0)},children:(0,r.jsx)("h6",{children:"Update App cover"})}),(0,r.jsx)("span",{className:"col-md-3 col-sm-12 text-light align-items-center ",onClick:()=>{N(e._id),j(!0)},children:(0,r.jsx)("h6",{children:"Update App icon"})}),(0,r.jsx)("span",{className:"col-md-3 col-sm-12 text-light align-items-center",onClick:()=>{N(e._id),b(!0)},children:(0,r.jsx)("h6",{children:"Update slider images"})})]}),x?(0,r.jsx)(c.P.div,{className:"popupUpdateImage",nitial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:(0,r.jsxs)(c.P.div,{className:"form",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring"},children:[(0,r.jsx)("div",{onClick:S,className:"close",children:(0,r.jsx)(p.qFd,{})}),(0,r.jsxs)("form",{onSubmit:I.handleSubmit,children:[(0,r.jsx)("label",{htmlFor:"appcover",children:"Upload New App Cover"}),(0,r.jsx)("input",{type:"file",className:"form-control",name:"appcover",id:"appcover",onChange:k}),(0,r.jsx)("input",{type:"hidden",name:"Appid",value:I.values.id=f,id:"Appid"}),(0,r.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]})]})}):g?(0,r.jsx)(c.P.div,{className:"popupUpdateImage",nitial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:(0,r.jsxs)(c.P.div,{className:"form",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring"},children:[(0,r.jsx)("div",{onClick:S,className:"close",children:(0,r.jsx)(p.qFd,{})}),(0,r.jsxs)("form",{onSubmit:I.handleSubmit,children:[(0,r.jsx)("label",{htmlFor:"appicon",children:"Upload New App Icon"}),(0,r.jsx)("input",{type:"file",className:"form-control",id:"appicon",name:"appicon",onChange:F}),(0,r.jsx)("input",{type:"hidden",name:"Appid",value:I.values.id=f,id:"Appid"}),(0,r.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]})]})}):y?(0,r.jsx)(c.P.div,{className:"popupUpdateImage",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:(0,r.jsxs)(c.P.div,{className:"form",nitial:{opacity:0},animate:{opacity:1},transition:{duration:.8,type:"spring"},children:[(0,r.jsx)("div",{onClick:S,className:"close",children:(0,r.jsx)(p.qFd,{})}),(0,r.jsxs)("form",{onSubmit:I.handleSubmit,children:[(0,r.jsx)("label",{htmlFor:"appslider",children:"Upload New slider images"}),(0,r.jsx)("input",{type:"file",multiple:!0,className:"form-control",id:"appslider",name:"appslider",onChange:A}),(0,r.jsx)("input",{type:"hidden",name:"Appid",value:I.values.id=f,id:"Appid"}),(0,r.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]})]})}):""]})},e._id)))})})}},610:(e,a,i)=>{i.d(a,{A:()=>l});i(5043);var t=i(748),s=i(579);function l(){return(0,s.jsxs)("div",{className:"Empty",children:[(0,s.jsx)("img",{src:t,alt:"...",loading:"lazy"}),(0,s.jsx)("h1",{className:"h4 font-color",children:"Empty Data!!"})]})}},748:(e,a,i)=>{e.exports=i.p+"static/media/4351528-removebg-preview.b4bbe969e78119f17570.png"}}]);
//# sourceMappingURL=843.916fd2b0.chunk.js.map