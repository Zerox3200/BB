"use strict";(self.webpackChunkbakistan=self.webpackChunkbakistan||[]).push([[965],{8965:(e,a,t)=>{t.r(a),t.d(a,{default:()=>i});var s=t(3892),l=t(5043),n=t(899),r=t(7154),c=t(3768),o=t(6338),m=t(579);function i(){const[e,a]=(0,l.useState)(!1),[t,i]=(0,l.useState)(null),d=n.Ik({name:n.Yj().required("Category name is required"),catIcon:n.gl().test("File_Type","Category image should be svg only!!",(e=>e&&["image/svg+xml"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>e&&e.size<=204800)).required("Category Image ")}),u=(0,s.Wx)({initialValues:{name:"",catIcon:""},validationSchema:d,onSubmit:async e=>{a(!0);const t=new FormData;t.append("name",e.name),t.append("catIcon",e.catIcon),await r.A.post("http://localhost:3000/Categories/CreateCat",t,{headers:{token:localStorage.getItem("token")}}).then((e=>{e.data.success?(i(null),a(!1),(0,c.Ay)((0,m.jsx)(o.A,{Message:"Category Added Successfully"}))):e.data.success||(i(e.data.Message),a(!1))})).catch((e=>{a(!1),i(e.message)}))}});return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("form",{className:"CatForm",onSubmit:u.handleSubmit,children:[(0,m.jsx)("h1",{className:"h5 form-label mt-4 font-color",children:"Add Categoty"}),null===t?null:(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:t}),(0,m.jsxs)("div",{className:"Add_Cat d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"CatName",className:"form-label mt-3 font-color",children:"Category Name"}),(0,m.jsx)("input",{type:"text",name:"name",className:"form-control",id:"CatName",onChange:u.handleChange,onBlur:u.handleBlur}),u.errors.name&&u.touched.name?(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:u.errors.name}):null]}),(0,m.jsxs)("div",{className:"Add_Cat_Image d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"CatImage",className:"form-label mt-3 font-color",children:"Category Name"}),(0,m.jsx)("input",{type:"file",name:"catIcon",className:"form-control",id:"CatImage",onChange:e=>{const a=e.target.files[0];u.setFieldValue("catIcon",a)}}),u.errors.catIcon&&u.touched.catIcon?(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:u.errors.catIcon}):null]}),e?(0,m.jsx)("button",{type:"button",className:"btn bg-main text-light mt-3",children:(0,m.jsx)("i",{className:"fas fa-spinner fa-spin "})}):(0,m.jsx)("button",{className:"btn bg-main text-light mt-3",children:"Add Category"})]})})}},6338:(e,a,t)=>{t.d(a,{A:()=>l});t(5043);var s=t(579);function l(e){let{Message:a}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("article",{className:"d-flex justify-content-center column-gap-4",children:(0,s.jsx)("h1",{className:"m-0",children:a})})})}}}]);
//# sourceMappingURL=965.7314556a.chunk.js.map