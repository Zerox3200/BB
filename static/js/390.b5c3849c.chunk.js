"use strict";(self.webpackChunkbakistan=self.webpackChunkbakistan||[]).push([[390],{7390:(e,a,l)=>{l.r(a),l.d(a,{default:()=>u});var p=l(5043),r=l(3892),n=l(7154),s=l(899),i=l(9793),t=l(2907),d=l(3768),c=l(6338),o=l(8292),m=l(579);function u(){var e,a,l,u,h,g;const[x,j]=(0,p.useState)(!1),f=s.Ik({name:s.Yj().required("Name is required"),appcat:s.Yj(),description:s.Yj().min(20,"Minimum Length is 20").required("Description is require"),applink:s.Yj().matches(/(?:https?|ftp):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?/,"Please Add Link").required("Link is required"),size:s.Yj().required("App Size is required"),news:s.YO().min(1,"You should atleast add one new").required("News is required"),appicon:s.gl().test("File_Type","Invalid!!",(e=>e&&["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>e&&e.size<=204800)),appcover:s.gl().test("File_Type","Invalid!!",(e=>e&&["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB",(e=>e&&e.size<=204800)),appslider:s.YO().required("App Slider is required").of(s.gl().test("File_Type","Invalid!!",(e=>e&&["image/png","image/jpeg","image/jpg"].includes(e.type))).test("File_Size","Image size should be less than 200 KB \n",(e=>e&&e.size<=204800))),applanguage:s.Yj().required("App Language is required"),appversion:s.Yj().required("App Version is required"),apprequired:s.Yj().required("App Required is required"),appUbdateDate:s.Yj().required("App Update Date is required"),appReleaseDate:s.Yj().required("App Release is required"),appArchitecture:s.Yj().required("App Architecture is required"),appPackageName:s.Yj().required("App Package Name is required"),paid:s.zM()}),b=(0,r.Wx)({initialValues:{name:"",appcat:"",description:"",applink:"",size:"",news:[],appicon:"",appcover:"",appslider:[],applanguage:"",appversion:"",apprequired:"",appUbdateDate:"",appReleaseDate:"",appArchitecture:"",appPackageName:"",paid:!1},onSubmit:async e=>{console.log(e.appcat),j(!0);const a=new FormData;a.append("name[0][language]","en"),a.append("name[0][value]",e.name),a.append("description[0][language]","en"),a.append("description[0][value]",e.description);for(let l=0;l<e.news.length;l++)a.append("news[en][".concat(l,"]"),e.news[l]);a.append("appinfo[applanguage]",e.applanguage),a.append("appinfo[appsize]",e.size),a.append("appinfo[appversion]",e.appversion),a.append("appinfo[apprequired]",e.apprequired),a.append("appinfo[appUbdateDate]",e.appUbdateDate),a.append("appinfo[appReleaseDate]",e.appReleaseDate),a.append("appinfo[appArchitecture]",e.appArchitecture),a.append("appinfo[appPackageName]",e.appPackageName),a.append("appcat[en]",e.appcat),a.append("applink",e.applink),a.append("size",e.size),a.append("paid",e.paid),e.appicon&&a.append("appicon",e.appicon),e.appcover&&a.append("appcover",e.appcover),e.appslider&&e.appslider.length>0&&e.appslider.forEach((e=>{a.append("appslider",e)})),await n.A.post("".concat(o.D,"/app/uploadapp"),a,{headers:{"Content-Type":"multipart/form-data",token:i.s.get("token")}}).then((()=>(0,d.Ay)((0,m.jsx)(c.A,{Message:"Upload Application Successfully"})))),j(!1)},validationSchema:f}),{data:A}=(0,t.useQuery)("Get Categories",(()=>n.A.get("".concat(o.D,"/Categories/GetAllCats"))),{cacheTime:3e6,onSettled:e=>{var a,l,p;b.setFieldValue("appcat",null===(a=e.data)||void 0===a||null===(l=a.result[0])||void 0===l||null===(p=l.name)||void 0===p?void 0:p.en)}});return(0,m.jsxs)("form",{className:"AddApp container mt-4 m-auto row justify-content-between",onSubmit:b.handleSubmit,children:[0===(null===A||void 0===A||null===(e=A.data)||void 0===e||null===(a=e.result)||void 0===a?void 0:a.length)?(0,m.jsx)("div",{className:"alert alert-danger",children:"You should add Category"}):null,(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{className:"form-label",htmlFor:"Appname",children:"App Name"}),(0,m.jsx)("input",{type:"text",placeholder:"App name",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"Appname",name:"name","aria-describedby":"emailHelp"}),b.errors.name&&b.touched.name&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.name})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppCat",children:"App Category"}),(0,m.jsx)("select",{className:"form-select mt-1",id:"AppCat","aria-label":"Default select example",name:"appcat",onChange:b.handleChange,onBlur:b.handleBlur,children:0===(null===A||void 0===A||null===(l=A.data)||void 0===l||null===(u=l.result)||void 0===u?void 0:u.length)?(0,m.jsx)("option",{children:"Not Found"}):null===A||void 0===A||null===(h=A.data)||void 0===h||null===(g=h.result)||void 0===g?void 0:g.map(((e,a)=>(0,m.jsx)("option",{defaultChecked:0===a,value:e.name.en,children:e.name.en},a)))})]}),(0,m.jsxs)("div",{className:"mb-3 Descs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppDesc",children:"App Description"}),(0,m.jsx)("textarea",{className:"form-control",placeholder:"Descirption",name:"description",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppDesc",rows:"10"}),b.errors.description&&b.touched.description&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.description})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppLink",children:"App Link"}),(0,m.jsx)("input",{type:"text",placeholder:"Store Link",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppLink",name:"applink","aria-describedby":"emailHelp"}),b.errors.applink&&b.touched.applink&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.applink})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppSize",children:"App Size"}),(0,m.jsx)("input",{type:"text",placeholder:"Size",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppSize",name:"size","aria-describedby":"emailHelp"}),b.errors.size&&b.touched.size&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.size})]}),(0,m.jsxs)("div",{className:"mb-3 Descs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"Appname",children:"App News"}),(0,m.jsx)("span",{id:"emailHelp",className:"form-text",children:"please add [-] before every new like this - new one , - new two , etc"}),(0,m.jsx)("textarea",{className:"form-control",placeholder:"News",onChange:e=>{const a=Array.from(e.target.value.split("-")).slice(1).map((e=>e.replace(/\n/,"")));b.setFieldValue("news",a)},onBlur:b.handleBlur,id:"AppNews",rows:"10",name:"news"}),b.errors.news&&b.touched.news&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.news})]}),(0,m.jsx)("h1",{className:"h3",children:"App Info"}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppLanguage",children:"App Language"}),(0,m.jsx)("input",{type:"text",placeholder:"Language",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppLanguage",name:"applanguage","aria-describedby":"emailHelp"}),b.errors.applanguage&&b.touched.applanguage&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.applanguage})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppVersion",children:"App Version"}),(0,m.jsx)("input",{type:"text",placeholder:"Version",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppVersion",name:"appversion","aria-describedby":"emailHelp"}),b.errors.appversion&&b.touched.appversion&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.appversion})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppRequired",children:"App Required"}),(0,m.jsx)("input",{type:"text",placeholder:"Required",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppRequired",name:"apprequired","aria-describedby":"emailHelp"}),b.errors.apprequired&&b.touched.apprequired&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.apprequired})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppUpdateDate",children:"App Update Date"}),(0,m.jsx)("input",{type:"date",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppUpdateDate",name:"appUbdateDate","aria-describedby":"emailHelp"}),b.errors.appUbdateDate&&b.touched.appUbdateDate&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.appUbdateDate})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppReleaseDate",children:"App Release Date"}),(0,m.jsx)("input",{type:"date",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppReleaseDate",name:"appReleaseDate","aria-describedby":"emailHelp"}),b.errors.appReleaseDate&&b.touched.appReleaseDate&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.appReleaseDate})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppArchitecture",children:"App Architecture"}),(0,m.jsx)("input",{type:"text",placeholder:"Architecture",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppArchitecture",name:"appArchitecture","aria-describedby":"emailHelp"}),b.errors.appArchitecture&&b.touched.appArchitecture&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.appArchitecture})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppPackageName",children:"App Package Name"}),(0,m.jsx)("input",{type:"text",placeholder:"Package Name",className:"form-control mt-1",onChange:b.handleChange,onBlur:b.handleBlur,id:"AppPackageName",name:"appPackageName","aria-describedby":"emailHelp"}),b.errors.appPackageName&&b.touched.appPackageName&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.appPackageName})]}),(0,m.jsx)("h1",{className:"h3",children:"App Images"}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppIcon",children:"App Icon"}),(0,m.jsx)("input",{type:"file",className:"form-control",id:"appicon",onChange:e=>{const a=e.target.files[0];b.setFieldValue("appicon",a)}}),b.errors.appicon&&b.touched.appicon&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.appicon})]}),(0,m.jsxs)("div",{className:"mb-3 inputs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppCover",children:"App Cover"}),(0,m.jsx)("input",{type:"file",className:"form-control",id:"AppCover",name:"appcover",onChange:e=>{const a=e.target.files[0];b.setFieldValue("appcover",a)}}),b.errors.appcover&&b.touched.appcover&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.appcover})]}),(0,m.jsxs)("div",{className:"mb-3 Descs d-flex flex-column",children:[(0,m.jsx)("label",{htmlFor:"AppSlider",children:"App Slider"}),(0,m.jsx)("input",{type:"file",className:"form-control",id:"AppSlider",name:"appslider",multiple:!0,onChange:e=>{const a=Array.from(e.target.files).filter((e=>e.type.startsWith("image")));b.setFieldValue("appslider",a)}}),b.errors.appslider&&b.touched.appslider&&(0,m.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:b.errors.appslider})]}),(0,m.jsxs)("div",{className:"mb-3 form-check",children:[(0,m.jsx)("input",{type:"checkbox",name:"paid",className:"form-check-input",id:"Free",checked:b.values.paid,onChange:b.handleChange,onBlur:b.handleBlur}),(0,m.jsx)("label",{className:"form-check-label",htmlFor:"Free",children:"This app is paid"})]}),x?(0,m.jsx)("button",{type:"button",className:"btn bg-main text-light mt-2",children:(0,m.jsx)("i",{className:"fas fa-spinner fa-spin "})}):(0,m.jsx)("button",{type:"submit",disabled:!(b.isValid&&b.dirty),className:"btn bg-main text-light mt-2",children:"Upload App"})]})}},6338:(e,a,l)=>{l.d(a,{A:()=>r});l(5043);var p=l(579);function r(e){let{Message:a}=e;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("article",{className:"d-flex justify-content-center column-gap-4",children:(0,p.jsx)("h1",{className:"m-0",children:a})})})}}}]);
//# sourceMappingURL=390.b5c3849c.chunk.js.map