"use strict";(self.webpackChunkbakistan=self.webpackChunkbakistan||[]).push([[134],{5134:(a,e,s)=>{s.r(e),s.d(e,{default:()=>u});var l=s(5043),t=s(3892),r=s(899),n=s(7154),i=s(9793),o=s(3216),d=s(4746),m=s(4420),c=s(8292),h=s(579);function u(){const[a,e]=(0,l.useState)(!1),[s,u]=(0,l.useState)(),{setUserInformation:p}=(0,l.useContext)(d.R),b=(0,o.Zp)();let x=r.Ik({email:r.Yj().required("email is required").email("invalid email"),password:r.Yj().required("password is required")});let g=(0,t.Wx)({initialValues:{email:"",password:""},validationSchema:x,onSubmit:async function(a){return e(!0),await n.A.post("".concat(c.D,"/auth/login"),{email:a.email,password:a.password}).then((a=>{e(!1),a.data.token&&(i.s.set("token",a.data.token),p((0,m.s)(a.data.token)),b("/DashApps2030")),u(a.data)})).catch((a=>{u(a),e(!1)}))}});return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("section",{className:"Login",children:(0,h.jsxs)("div",{className:"login-main ",children:[(0,h.jsx)("h1",{className:"font-color h2",children:"Login"}),(0,h.jsxs)("form",{onSubmit:g.handleSubmit,children:[(0,h.jsx)("label",{htmlFor:"email",className:"form-label mt-3",children:"Email"}),(0,h.jsx)("input",{className:"form-control",placeholder:"Email",onBlur:g.handleBlur,onChange:g.handleChange,type:"email",name:"email",id:"email"}),g.errors.email&&g.touched.email&&(0,h.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:g.errors.email}),(0,h.jsx)("label",{htmlFor:"password",className:"form-label mt-3",children:"Password"}),(0,h.jsx)("input",{className:"form-control",placeholder:"Password",onBlur:g.handleBlur,onChange:g.handleChange,type:"password",name:"password",id:"password"}),g.errors.password&&g.touched.password&&(0,h.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:g.errors.password}),a?(0,h.jsx)("button",{type:"button",className:"btn bg-main text-light mt-2",children:(0,h.jsx)("i",{className:"fas fa-spinner fa-spin "})}):(0,h.jsx)("button",{type:"submit",disabled:!(g.isValid&&g.dirty),className:"btn  bg-main text-light mt-2",children:"Login"}),s&&(0,h.jsx)("div",{className:"alert alert-danger py-2 mt-2",children:s})]})]})})})}}}]);
//# sourceMappingURL=134.19d2fbe0.chunk.js.map